<!DOCTYPE html>
<html  lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1"><meta name="viewport" content="width=device-width, initial-scale=1" />

      <title>Functional, Unit and Integration Tests</title>
    
          <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
          <link rel="stylesheet" href="../_static/theme.css " type="text/css" />
          <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
          <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
          <link rel="stylesheet" href="../_static/design.css" type="text/css" />
          <link rel="stylesheet" href="../_static/pseudocode-js/pseudocode.min.css" type="text/css" />
      
      <!-- sphinx script_files -->
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({"startOnLoad": true})</script>
        <script src="../_static/pseudocode-js/pseudocode.min.js?v=5dbac844"></script>

      
      <!-- bundled in js (rollup iife) -->
      <!-- <script src="../_static/theme-vendors.js"></script> -->
      <script src="../_static/theme.js" defer></script>
      <link rel="canonical" href="https://hlefebvr.github.io/idol/developer_guide/tests.html" />
    
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="next" title="References" href="../references.html" />
  <link rel="prev" title="Build the Documentation" href="build-the-doc.html" /> 
  </head>

  <body>
    <div id="app">
    <div class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="../index.html" class="home-link">
    
      <span class="site-name">idol</span>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">



  
    <div class="nav-item">
      <a href="https://github.com/hlefebvr/idol"
        class="nav-link external">
          Github <outboundlink></outboundlink>
      </a>
    </div>
  

    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            



  
    <div class="nav-item">
      <a href="https://github.com/hlefebvr/idol"
        class="nav-link external">
          Github <outboundlink></outboundlink>
      </a>
    </div>
  

            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Quick search</span>
    <div class="searchformwrapper">
      <form class="search" action="../search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Search" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../index.html#table-of-contents">table of contents</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 ">
            
              <a href="../installation/index.html" class="reference internal ">Installation</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../tutorials/index.html" class="reference internal ">Tutorials</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../examples/index.html" class="reference internal ">Examples</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../tests/index.html" class="reference internal ">Stable Features</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../benchmark/index.html" class="reference internal ">Benchmark</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../api/index.html" class="reference internal ">API</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../faq/index.html" class="reference internal ">FAQ</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="index.html" class="reference internal ">Developers</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../references.html" class="reference internal ">References</a>
            

            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
    
      <li><a href="index.html">Developers</a> &raquo;</li>
    
    <li>Functional, Unit and Integration Tests</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="build-the-doc.html"
       title="previous chapter">← Build the Documentation</a>
  </li>
  <li class="next">
    <a href="../references.html"
       title="next chapter">References →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main" v-pre>
            
  <section id="functional-unit-and-integration-tests">
<span id="tests"></span><h1>Functional, Unit and Integration Tests<a class="headerlink" href="#functional-unit-and-integration-tests" title="Link to this heading">¶</a></h1>
<p>This page explains how to build the functional tests on a local machine.</p>
<section id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading">¶</a></h2>
<p>Tests are managed by the C++ unit testing framework <a class="reference external" href="https://github.com/catchorg/Catch2">Catch2</a>.</p>
<p>When CMake is told to create test targets, it will automatically look for an installation of Catch2 on your
machine. If it cannot be found, CMake will attempt to download Catch2 from its GitHub repository.</p>
<section id="installation-guide-ubuntu">
<h3>Installation guide (Ubuntu)<a class="headerlink" href="#installation-guide-ubuntu" title="Link to this heading">¶</a></h3>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/catchorg/Catch2.git<span class="w"> </span><span class="c1"># Clone Catch2 repository</span>

<span class="nb">cd</span><span class="w"> </span>Catch2<span class="w"> </span><span class="c1"># go inside the new directory</span>

cmake<span class="w"> </span>-Bbuild<span class="w"> </span>-H.<span class="w"> </span>-DBUILD_TESTING<span class="o">=</span>OFF<span class="w"> </span><span class="c1"># Create install target</span>

sudo<span class="w"> </span>cmake<span class="w"> </span>--build<span class="w"> </span>build/<span class="w"> </span>--target<span class="w"> </span>install<span class="w"> </span><span class="c1"># Build and install</span>
</pre></div>
</div>
</section>
</section>
<section id="build-instructions">
<h2>Build instructions<a class="headerlink" href="#build-instructions" title="Link to this heading">¶</a></h2>
<p>By default, CMake will not create test targets nor look for Catch2.  To tell CMake to generate them, you
need to set the CMake option <code class="docutils literal notranslate"><span class="pre">BUILD_TESTS</span></code> to <code class="docutils literal notranslate"><span class="pre">YES</span></code>.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<p>The following will tell CMake to create targets for tests.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">cmake</span><span class="w"> </span><span class="o">-</span><span class="n">DBUILD_TESTS</span><span class="o">=</span><span class="n">YES</span><span class="w"> </span><span class="p">..</span>
</pre></div>
</div>
<p>For instance, we can now build all the existing tests</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">make</span><span class="w"> </span><span class="n">tests</span>
</pre></div>
</div>
<p>and run them.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="o">/</span><span class="n">tests</span><span class="o">/</span><span class="n">tests</span>
</pre></div>
</div>
</div>
</section>
<section id="code-coverage-options">
<h2>Code coverage options<a class="headerlink" href="#code-coverage-options" title="Link to this heading">¶</a></h2>
<p>Code coverage is done via <code class="docutils literal notranslate"><span class="pre">gcov</span></code>.</p>
<p>If you want to active code coverage options, you shall set the CMake option <code class="docutils literal notranslate"><span class="pre">WITH_TEST_COVERAGE</span></code> to <code class="docutils literal notranslate"><span class="pre">YES</span></code>.
Note that this only has an effect when <code class="docutils literal notranslate"><span class="pre">BUILD_TESTS</span></code> is also set to <code class="docutils literal notranslate"><span class="pre">YES</span></code>.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<p>The following command will tell CMake to generate targets for tests with code coverage options.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">cmake</span><span class="w"> </span><span class="o">-</span><span class="n">DBUILD_TESTS</span><span class="o">=</span><span class="n">YES</span><span class="w"> </span><span class="o">-</span><span class="n">DWITH_CODE_COVERAGE</span><span class="o">=</span><span class="n">YES</span><span class="w"> </span><span class="p">..</span>
</pre></div>
</div>
<p>Then, you should build and run the tests.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">make</span><span class="w"> </span><span class="n">tests</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">tests</span><span class="o">/</span><span class="n">tests</span>
</pre></div>
</div>
<p>Once you are there, you may generate a report to a file called <code class="docutils literal notranslate"><span class="pre">coverage.info</span></code> by using <code class="docutils literal notranslate"><span class="pre">gcov</span></code>.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">lcov</span><span class="w"> </span><span class="o">--</span><span class="n">directory</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">--</span><span class="n">capture</span><span class="w"> </span><span class="o">--</span><span class="n">output</span><span class="o">-</span><span class="n">file</span><span class="w"> </span><span class="n">coverage</span><span class="p">.</span><span class="n">info</span>
</pre></div>
</div>
</div>
<p>Also note that this forces <code class="docutils literal notranslate"><span class="pre">g++</span></code> to be used for compiling.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Code coverage reports are also automatically generated at every push action on idol’s GitHub repository and
are available on <a class="reference external" href="https://app.codecov.io/gh/hlefebvr/idol">codecov</a>.</p>
</div>
</section>
</section>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="build-the-doc.html"
       title="previous chapter">← Build the Documentation</a>
  </li>
  <li class="next">
    <a href="../references.html"
       title="next chapter">References →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright 2025, Henri Lefebvre.
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6 with <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a> 0.9.1.
</div>
            </div>
          </div>
      </page>
    </div></div>
    
    
  </body>
</html>